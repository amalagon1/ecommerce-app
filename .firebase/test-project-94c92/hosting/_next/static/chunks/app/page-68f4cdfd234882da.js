(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9027:function(t,e,r){Promise.resolve().then(r.bind(r,8548))},5139:function(t,e,r){"use strict";r.r(e),r.d(e,{CartContext:function(){return n},CartProvider:function(){return l},CartState:function(){return u},useCart:function(){return s}});var c=r(7437),a=r(2265);let n=(0,a.createContext)(),i=(t,e)=>{switch(e.type){case"ADD_TO_CART":return{...t,cart:[...t.cart,{...e.payload,qty:1,totalPrice:e.payload.product.price}]};case"REMOVE_FROM_CART":return{...t,cart:t.cart.filter(t=>t.product.id!==e.payload.id)};case"INCREMENT_QTY":let{id:r}=e.payload,c=t.cart.map(t=>t.product.id===r?{...t,qty:t.qty+1}:t);return{...t,cart:c};case"DECREMENT_QTY":let{itemId:a}=e.payload,n=t.cart.map(t=>{if(t.product.id===a){let e=t.qty-1;return e<=0?null:{...t,qty:e}}return t});return{...t,cart:n.filter(Boolean)};case"CALCULATE_PRICE":let{priceId:i}=e.payload,o=t.cart.map(t=>t.product.id===i?{...t,totalPrice:t.product.price*t.qty}:t);return{...t,cart:o};default:return t}},o=t=>{let e=0;for(let r=0;r<t.length;r++)e+=t[r].totalPrice;return e.toFixed(2)},l=t=>{let{children:e}=t,[r,l]=(0,a.useReducer)(i,{cart:[]});console.log(r.cart);let s=o(r.cart),u=!1,d=r.cart.reduce((t,e)=>t+e.quantity,0);return(0,c.jsx)(n.Provider,{value:{state:r,dispatch:l,cartActive:u,clickHandler:()=>{u=!u,console.log("clicked!"),console.log(u)},totalQuantity:d,calculateItemQuantities:function(t){let e={};for(let r of t)r.id in e?e[r.id]+=1:e[r.id]=1;return e},grandTotal:s},children:e})},s=()=>{let t=(0,a.useContext)(n);if(!t)throw Error("useCart must be used within a CartProvider");return t},u=()=>(0,a.useContext)(cart)},2833:function(t,e,r){"use strict";r.r(e),r.d(e,{ProductProvider:function(){return l},useProductContext:function(){return o}});var c=r(7437),a=r(2265),n=r(9222);let i=(0,a.createContext)(),o=()=>(0,a.useContext)(i),l=t=>{let{children:e}=t,[r,o]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let t=async()=>{let{data:t}=await n.Z.get("https://fakestoreapi.com/products");console.log(t),o(t)};t()},[]),(0,c.jsx)(i.Provider,{value:{products:r},children:e})}},8548:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return u}});var c=r(7437);r(2265);var a=r(2833),n=r(5139),i=r(6691),o=r.n(i),l=r(4606);r(7106),r(3085);var s=t=>{let{product:e}=t,{state:r,dispatch:i}=(0,n.useCart)(),{cart:s}=r,{products:u}=(0,a.useProductContext)(),d=s.find(t=>t.product.id===e.id),x=()=>{i({type:"REMOVE_FROM_CART",payload:e})},p=t=>{i({type:"ADD_TO_CART",payload:t})};return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"border border-[#e4e4e4] h-[300px] mb-4 relative overflow-hidden group transition",children:[(0,c.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,c.jsx)("div",{className:"w-[200px] mx-auto flex justify-center items-center group-hover:scale-110 transition duration-300",children:(0,c.jsx)(o(),{width:"100",height:"100",src:e.image,alt:"product photo"})})}),(0,c.jsxs)("div",{className:"absolute top-3 -right-40 group-hover:right-5 flex flex-col justify-center gap-2 items-center opacity-0 group-hover:opacity-100 transition-all duration-30",children:[(0,c.jsx)("button",{className:d?"bg-blue-400 text-white text-xl h-11 w-11":"bg-rose-400 text-white text-xl h-11 w-11 ",onClick:()=>{d?x({product:e}):p({product:e})},children:d?"-":"+"}),(0,c.jsx)("a",{className:"shadow-md p-2 w-11 h-11 cursor-pointer flex justify-center items-center",children:(0,c.jsx)(l.rnh,{})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm capitalize text-gray-500 mb-1",children:e.category}),(0,c.jsx)("p",{children:e.title}),(0,c.jsxs)("p",{children:["$",e.price]})]})]})};function u(){let{products:t}=(0,a.useProductContext)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("main",{className:"container mx-auto my-20",children:[(0,c.jsx)("h1",{className:"text-center mb-10 text-xl",children:"Our Products"}),(0,c.jsx)("div",{className:" grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 lg:mx-8 gap-[30px] max-w-sm mx-auto md:max-w-none md:mx-0",children:t&&t.map(t=>(0,c.jsx)(s,{id:t.id,product:t}))})]})})}}},function(t){t.O(0,[214,447,402,691,971,596,744],function(){return t(t.s=9027)}),_N_E=t.O()}]);